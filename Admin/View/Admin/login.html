<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta content="MSHTML 6.00.6000.16674" name="GENERATOR" />
        <link href="{$smarty.const.CSS_URL_ADMIN}User_Login.css" type="text/css" rel="stylesheet" />

        <title>用户登录</title>

        <script type="text/javascript">
           function Check(name) {
               this.name=name;
           }

           var testA=new Check("dsl");

           Check.prototype.dsl="test";

           testA["dsl"]="zw";

           var testB=new Check("senlin");

            console.log(testA);
            console.log(testB);
            console.log(testA.dsl);
            console.log(testB.dsl);

            console.log({ "b":"a" });
            function a() {
                this.a="a";
            }

            console.log(new a());

            function checkname() {
                //获取输入框的值
                var userName=document.getElementById("admin_user").value;
                userName=encodeURIComponent(userName);

                //创建ajax对象，并传递参数
                var xhr=new XMLHttpRequest();

                xhr.onreadystatechange=function () {
                    if(xhr.readyState==4)
                    {
                        document.getElementById("errorShow").innerHTML=xhr.responseText;
                    }

                }

                xhr.open("get","checkName/mg_name/"+userName);
                xhr.send();
            }

            function checkPWD()
            {
                var pwd = document.getElementById("admin_pwd").value;
                pwd=encodeURIComponent(pwd);

                var userName=document.getElementById("admin_user").value;
                userName=encodeURIComponent(userName);
                var info="name="+userName+"&pwd="+pwd;

                var xhr=new XMLHttpRequest();

                xhr.onreadystatechange=function () {
                    if(xhr.readyState==4)
                    {
                        document.getElementById("errorShow").innerHTML=xhr.responseText;
                    }
                }

                xhr.open("post","checkPWD?getType=aa");
                xhr.setRequestHeader("content-type","application/x-www-form-urlencoded");
                xhr.send(info);
            }

        </script>
    </head><body id="userlogin_body">
        <div></div>
        <div id="user_login">
            <dl>
                <dd id="user_top">
                    <ul>
                        <li class="user_top_l"></li>
                        <li class="user_top_c"></li>
                        <li class="user_top_r"></li></ul>
                </dd><dd id="user_main">
                    <form action="{$smarty.const.__SELF__}" method="post">
                        <ul>
                            <li class="user_main_l"></li>
                            <li class="user_main_c">
                                <div class="user_main_box">
                                    {$errorInfo|default:''}
                                    <div id="errorShow"></div>
                                    <ul>
                                        <li class="user_main_text">用户名： </li>
                                        <li class="user_main_input">
                                            <input class="TxtUserNameCssClass" id="admin_user" maxlength="20" name="admin_user" onblur="checkname()"> </li></ul>
                                    <ul>
                                        <li class="user_main_text">密&nbsp;&nbsp;&nbsp;&nbsp;码： </li>
                                        <li class="user_main_input">
                                            <input class="TxtPasswordCssClass" id="admin_pwd" name="admin_pwd" type="password" >
                                        </li>
                                    </ul>
                                    <ul>
                                        <li class="user_main_text">验证码： </li>
                                        <li class="user_main_input">
                                            <input class="TxtValidateCodeCssClass" id="captcha" name="captcha" type="text">
                                            <img onclick="this.src='{$smarty.const.__CONTROLLER__}/verifyImg/'+Math.random()"  src="{$smarty.const.__CONTROLLER__}/verifyImg" alt="" />
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="user_main_r">
                                <input style="border: medium none; background: url('{$smarty.const.IMG_URL_ADMIN}user_botton.gif') repeat-x scroll left top transparent; height: 122px; width: 111px; display: block; cursor: pointer;" value="" type="submit">
                            </li>
                        </ul>
                    </forlm>
                </dd><dd id="user_bottom">
                    <ul>
                        <li class="user_bottom_l"></li>
                        <li class="user_bottom_c"><span style="margin-top: 40px;"></span> </li>
                        <li class="user_bottom_r"></li></ul></dd></dl></div><span id="ValrUserName" style="display: none; color: red;"></span><span id="ValrPassword" style="display: none; color: red;"></span><span id="ValrValidateCode" style="display: none; color: red;"></span>
        <div id="ValidationSummary1" style="display: none; color: red;"></div>
    </body>
</html>